<?php

if (sfContext::hasInstance())
{
  sfContext::getInstance()->getConfiguration()->loadHelpers(array("Format"));
}
else
{
  $configuration = ProjectConfiguration::getApplicationConfiguration('gridweb', 'prod', true);
  $context = sfContext::createInstance($configuration);
  $configuration->loadHelpers(array("Format"));
}

/**
 * Financement
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    gridSI
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7691 2011-02-04 15:43:29Z jwage $
 */
class Financement extends BaseFinancement
{
  /**
   * Permet d'afficher l'objet
   * @return string
   * @author Gabor JAGER
   */
  public function  __toString()
  {
    return formatMontantFr($this->getMontant())." - ".$this->getBudget_type();
  }
  
  /**
   * Recupere le montant signÃ©
   *
   * @return string
   *
   * @author Simeon PETEV
   */
  public function getMontantAvecSigne()
  {
    $this->logDebug(" [".__FUNCTION__."] /Ligne: ".__LINE__."/ DEBUT; ");

    $strMontant = $this->getMontant();

    if ($this->getBudget_type()->getEstNegatif())
    {
      $strMontant = '-'.$strMontant;
    }

    $this->logDebug(" [".__FUNCTION__."] /Ligne: ".__LINE__."/ FIN; ");

    return $strMontant;
  }
}