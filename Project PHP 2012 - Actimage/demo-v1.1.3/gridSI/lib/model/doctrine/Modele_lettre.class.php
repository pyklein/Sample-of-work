<?php

/**
 * Modele_lettre
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    gridSI
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7691 2011-02-04 15:43:29Z jwage $
 */
class Modele_lettre extends BaseModele_lettre
{
  /**
   * Permet de décider si le fichier modèle est bien uploadé ou pas
   * @return boolean true si le fichier modèle est disponible
   *                 false sinon
   * @author Gabor JAGER
   */
  public function estDisponible()
  {
    $utilFichier = new UtilFichier();

    if ($this->getFichier() == null || $this->getFichier() == "")
    {
      return false;
    }

    try
    {
      $utilFichier->isExiste($this->getCheminModele());
      return true;
    }

    catch(Exception $ex)
    {
      return false;
    }
  }

  /**
   * Permet de récuperer le chemin complète du fichier
   * @return string le chemin complete de modèle
   * @author Gabor JAGER
   */
  public function getCheminModele()
  {
    $utilFichier = new UtilFichier();
    $utilArbo = new ServiceArborescence();
    return $utilArbo->getRepertoireModelesDocuments().$this->getFichier();
  }
}