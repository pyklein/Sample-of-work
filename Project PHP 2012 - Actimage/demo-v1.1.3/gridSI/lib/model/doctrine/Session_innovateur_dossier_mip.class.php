<?php

/**
 * Session_innovateur_dossier_mip
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    gridSI
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7691 2011-02-04 15:43:29Z jwage $
 */
class Session_innovateur_dossier_mip extends BaseSession_innovateur_dossier_mip
{
  public function save(Doctrine_Connection $con = null){
    $etatActuel = Session_innovateur_dossier_mipTable::getInstance()->getSessionByUtilisateurIdAndToken($this->getInnovateurId(),$this->getTransactionToken());
    if (count($etatActuel) > 0){
      foreach ($etatActuel as $etat){
        $etat->delete();
      }
    }
    parent::save($con);
  }
}