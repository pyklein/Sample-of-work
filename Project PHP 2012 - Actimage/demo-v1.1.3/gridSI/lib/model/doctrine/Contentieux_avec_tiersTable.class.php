<?php

/**
 * Contentieux_avec_tiersTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class Contentieux_avec_tiersTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object Contentieux_avec_tiersTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('Contentieux_avec_tiers');
    }
    
   public function retrieveContentieuxAvecTiers($typeContentieux) {

    $typeContId = null;
    
    if ($typeContentieux == 'contrat') {
      $typeContId = Type_contentieux_tiersTable::CONTRAT;
    }else if($typeContentieux == 'absence_contrat'){
      $typeContId = Type_contentieux_tiersTable::ABSENCECONTRAT;
    }

    $doctrineQuery = $this->createQuery('c')->Where('type_contentieux_tiers_id = ?', $typeContId);

    $arrResults = $doctrineQuery->execute() ;
    if(count($arrResults) != 0){
    $objContentieux = $arrResults[0];
    }else{
      $objContentieux = null ;
    }
    
    return $objContentieux;
  }

}