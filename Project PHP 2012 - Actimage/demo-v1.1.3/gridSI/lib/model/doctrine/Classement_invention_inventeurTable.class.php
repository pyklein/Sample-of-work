<?php

/**
 * Classement_invention_inventeurTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class Classement_invention_inventeurTable extends Doctrine_Table {

  const M ="M";
  const HMA="HMA";
  const HMNA="HMNA";

  /**
   * Returns an instance of this class.
   *
   * @return object Classement_invention_inventeurTable
   */
  public static function getInstance() {
    return Doctrine_Core::getTable('Classement_invention_inventeur');
  }

  public function findOneByConcerneIdAndDossierId($intIdInventeur, $intIdDossier){
    $objRequeteDoctrine = $this->createQuery('c')
            ->where('c.concerne_id = ?', $intIdInventeur)
            ->andWhere('c.dossier_bpi_id = ?', $intIdDossier);
    $collection = $objRequeteDoctrine->execute();
    if ($collection->count() != 1){
      return false;
    }
    return $collection;
  }


  public function createClassementInventeur($intIdInventeur, $intIdDossier) {
    $objClassementInvention = new Classement_invention_inventeur();
    $objClassementInvention->setClassementAutoriteId(1);
    $objClassementInvention->setClassementHierarchieId(1);
    $objClassementInvention->setClassementProposeId(1);
    $objClassementInvention->setClassementFinalId(1);
    $objClassementInvention->setConcerneId($intIdInventeur);
    $objClassementInvention->setDossierBpiId($intIdDossier);
    $objClassementInvention->save();
    return $objClassementInvention;
  }

}